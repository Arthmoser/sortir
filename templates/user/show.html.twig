{% extends 'base.html.twig' %}

{% block title %}

{% endblock %}


{% block body %}

    <div>

        <article>
            <a href="{{ path('user_profil', {'id': user.id }) }}">
                <div class="pp"><img src="{{ asset('assets/img/profilePictures/' ~ user.profilePicture) }}"
                                     alt="{{ user.nickname }}" width="150px"></div>
            </a>
        </article>

        <div class="content">
            {% if app.user.id == user.id %}
                <div class="txt">
                    <h1>Mon profil</h1>
                    <div>

                        {{ form_start(registrationForm) }}

                        <div>
                            {{ form_row(registrationForm.nickname) }}
                            {{ form_row(registrationForm.firstname) }}
                            {{ form_row(registrationForm.lastname) }}
                            {{ form_row(registrationForm.phone) }}
                            {{ form_row(registrationForm.email) }}
                        </div>
                        <div>
                            {{ form_row(registrationForm.password, {required: 'false'}) }}
                            {{ form_row(registrationForm.campus) }}
                            {{ form_row(registrationForm.profilePicture) }}
                                {% if is_granted("ROLE_ADMIN") %}
                                    {{ form_row(registrationForm.roles) }}
                                    {{ form_row(registrationForm.isAllowed) }}
                                {% endif %}
                        </div>
                        <button type="submit" class="btn">Enregistrer</button>
                        {{ form_end(registrationForm) }}
                    </div>
                </div>

            {% else %}
                <div class="txt">
                    <h1>{{ user.nickname }}</h1>
                    <div> Prénom : {{ user.firstname }}</div>
                    <div> Nom : {{ user.lastname }}</div>
                    <div> Téléphone : {{ user.phone }}</div>
                    <div> Email : {{ user.email }}</div>
                    <div> Campus : {{ user.campus.name }}</div>
                </div>
            {% endif %}
        </div>

    </div>


{% endblock %}



