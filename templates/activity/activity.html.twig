{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} | Activités {% endblock %}

{% block js %}

    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
    <script src="{{ asset('Javascript/activityAdd.js') }}"></script>

{% endblock %}

{% block body %}
    <h2>
        {% if activity.id == null %}
            Créer une sortie
            {% else %}
            Modifier une sortie
        {% endif %}
    </h2>
    {{ form_start(activityForm) }}

    <div class="form">

        <div>{{ form_row(activityForm.name) }}</div>
        <div>{{ form_row(activityForm.startingDateTime) }}</div>
        <div>{{ form_row(activityForm.registrationDeadLine) }}</div>
        <div>{{ form_row(activityForm.maxRegistrationNb) }}</div>
        <div>{{ form_row(activityForm.duration) }}</div>
        <div>{{ form_row(activityForm.overview) }}</div>
        <div>{{ form_row((activityForm.campus)) }}</div>
        <div>{{ form_row((activityForm.city)) }}</div>

        <div>
            <label for="activity_location">Lieu : </label>
            <select id="activity_location"></select>
        </div>

        <div id="location_detail"></div>

        <div>
            <a class="" href="
            {% if activity.id == null %}
                {{ path('location_add') }}
            {% else %}
                {{ path('location_update_add', {'id': activity.id}) }}
            {% endif %}
            " onclick="return confirm('Voulez-vous ajouter un nouveau lieu ?')">Ajouter un lieu</a>
        </div>

        <a href="{{ path('activity_home') }}">Annuler</a>

        <div>

            {% if activity.id != null %}

                <a class="" href="{{ path('activity_remove', {'id': activity.id})}}"
                   onclick="return confirm('Etes-vous sûr de de vouloir supprimer cette sortie ?')">Supprimer cette sortie</a>

            {% endif %}
        </div>
    </div>

    {{ form_end(activityForm) }}

    <div id="map">
        <!-- Ici s'affichera la carte -->
    </div>

{% endblock %}